{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import apiService from\"../services/api\";import\"./header.css\";import summzy from\"../assets/images/summzy.png\";import botAI from\"../assets/images/botAI.jpg\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const[isOpen,setIsOpen]=useState(false);const[user,setUser]=useState(null);const navigate=useNavigate();useEffect(()=>{const currentUser=apiService.getCurrentUser();setUser(currentUser);},[]);const toggleDropdown=()=>{setIsOpen(!isOpen);};const handleLogin=()=>{setIsOpen(false);navigate(\"/login\");};const handleLogout=()=>{apiService.logout();setUser(null);setIsOpen(false);navigate(\"/\");window.location.reload();};const handleHistory=()=>{setIsOpen(false);navigate(\"/history\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"header-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:summzy,alt:\"summzy-logo\",className:\"summzy\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user?\"Xin ch\\xE0o, \".concat(user.name||user.email):\"Kh√°ch\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"account\",onClick:toggleDropdown,children:[user?/*#__PURE__*/_jsx(\"img\",{src:botAI,alt:\"user-avatar\",className:\"avatar\"}):/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:\"\\uD83D\\uDC64\"}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",children:!user?/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:handleLogin,children:\"\\u0110\\u0103ng nh\\u1EADp\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:handleHistory,children:\"L\\u1ECBch s\\u1EED\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:handleLogout,children:\"\\u0110\\u0103ng xu\\u1EA5t\"})]})})]})]})]});}export default Header;","map":{"version":3,"names":["useState","useEffect","useNavigate","apiService","summzy","botAI","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Header","isOpen","setIsOpen","user","setUser","navigate","currentUser","getCurrentUser","toggleDropdown","handleLogin","handleLogout","logout","window","location","reload","handleHistory","className","children","src","alt","concat","name","email","onClick"],"sources":["D:/Projects/TextSummarizer/text-summarizer_v2/ttvb-frontend/src/components/header.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport apiService from \"../services/api\"\nimport \"./header.css\"\nimport summzy from \"../assets/images/summzy.png\";\nimport botAI from \"../assets/images/botAI.jpg\";\n\nfunction Header() {\n  const [isOpen, setIsOpen] = useState(false)\n  const [user, setUser] = useState(null)\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    const currentUser = apiService.getCurrentUser()\n    setUser(currentUser)\n  }, [])\n\n  const toggleDropdown = () => {\n    setIsOpen(!isOpen)\n  }\n\n  const handleLogin = () => {\n    setIsOpen(false)\n    navigate(\"/login\")\n  }\n\n  const handleLogout = () => {\n    apiService.logout()\n    setUser(null)\n    setIsOpen(false)\n    navigate(\"/\")\n    window.location.reload()\n  }\n\n  const handleHistory = () => {\n    setIsOpen(false)\n    navigate(\"/history\")\n  }\n\n  return (\n    <div className=\"header-container\">\n      <div className=\"logo\">\n        <img src={summzy} alt=\"summzy-logo\" className=\"summzy\"/>\n      </div>\n      <div className=\"user-info\">\n        <span className=\"user-name\">{user ? `Xin ch√†o, ${user.name || user.email}` : \"Kh√°ch\"}</span>\n        <div className=\"account\" onClick={toggleDropdown}>\n          {user ? (\n            <img src={botAI} alt=\"user-avatar\" className=\"avatar\" />\n          ) : (\n            <div className=\"avatar\">üë§</div>\n          )}\n          {isOpen && (\n            <div className=\"dropdown-menu\">\n              {!user ? (\n                <div className=\"dropdown-item\" onClick={handleLogin}>\n                  ƒêƒÉng nh·∫≠p\n                </div>\n              ) : (\n                <>\n                  <div className=\"dropdown-item\" onClick={handleHistory}>\n                    L·ªãch s·ª≠\n                  </div>\n                  <div className=\"dropdown-item\" onClick={handleLogout}>\n                    ƒêƒÉng xu·∫•t\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}